<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLÃ…HAJ - IKEA é¯Šé¯Šç²‰çµ²ä¿±æ¨‚éƒ¨</title>
    <!-- è¨­å®š Favicon å’Œ App Icon -->
    <link rel="icon" type="image/png" href="https://googleusercontent.com/image_generation_content/4">
    <link rel="apple-touch-icon" sizes="512x512" href="https://googleusercontent.com/image_generation_content/4">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap');

        body {
            font-family: 'Noto Sans TC', sans-serif;
            scroll-behavior: smooth;
        }

        /* æ¼‚æµ®å‹•ç•« */
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .shark-float {
            animation: float 4s ease-in-out infinite;
        }

        /* æ³¢æµªå‹•ç•« */
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            overflow: hidden;
            line-height: 0;
            transform: rotate(180deg);
        }

        .wave svg {
            position: relative;
            display: block;
            width: calc(100% + 1.3px);
            height: 100px;
        }

        .wave .shape-fill {
            fill: #ffffff;
        }

        /* è‡ªå®šç¾©æ»¾å‹•æ¢ */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #2563eb;
        }

        /* èŠå¤©å®¤å‹•ç•« */
        .chat-enter {
            animation: slideIn 0.3s ease-out forwards;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        /* æ‰“å­—æ©Ÿæ•ˆæœå…‰æ¨™ */
        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        /* AI Card Hover Effect */
        .ai-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.3);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- å°èˆªåˆ— -->
    <nav class="bg-white/90 backdrop-blur-md shadow-sm fixed w-full z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2" id="logo-container">
                    <div class="relative w-8 h-8 flex items-center justify-center bg-blue-100 rounded-md overflow-hidden flex-shrink-0">
                        <!-- åº•å±¤ä¿åº•åœ–ç¤º -->
                        <i class="fa-solid fa-fish-fins text-blue-600 text-lg"></i>
                        <!-- ä¸Šå±¤åœ–ç‰‡ -->
                        <img src="https://googleusercontent.com/image_generation_content/4" 
                             alt="Shark Icon" 
                             class="absolute inset-0 w-full h-full object-cover" 
                             onerror="this.style.display='none'">
                    </div>
                    
                    <span class="font-bold text-xl text-blue-900 tracking-wider">BLÃ…HAJ</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="#about" class="text-gray-600 hover:text-blue-600 transition">é—œæ–¼é¯Šé¯Š</a>
                    <a href="#ai-lab" class="text-blue-600 font-bold hover:text-blue-800 transition"><i class="fa-solid fa-wand-magic-sparkles mr-1"></i>AI å¯¦é©—å®¤</a>
                    <a href="#culture" class="text-gray-600 hover:text-blue-600 transition">è¿·å› æ–‡åŒ–</a>
                    <a href="#specs" class="text-gray-600 hover:text-blue-600 transition">é£¼é¤ŠæŒ‡å—</a>
                </div>
                <!-- æ‰‹æ©Ÿç‰ˆé¸å–®æŒ‰éˆ• -->
                <button class="md:hidden text-gray-600 focus:outline-none" onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
                    <i class="fa-solid fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        <!-- æ‰‹æ©Ÿé¸å–® -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t p-4">
            <a href="#about" class="block py-2 text-gray-600 hover:text-blue-600">é—œæ–¼é¯Šé¯Š</a>
            <a href="#ai-lab" class="block py-2 text-blue-600 font-bold hover:text-blue-800">âœ¨ AI å¯¦é©—å®¤</a>
            <a href="#culture" class="block py-2 text-gray-600 hover:text-blue-600">è¿·å› æ–‡åŒ–</a>
            <a href="#specs" class="block py-2 text-gray-600 hover:text-blue-600">é£¼é¤ŠæŒ‡å—</a>
            <a href="#gallery" class="block py-2 text-gray-600 hover:text-blue-600">ç”Ÿæ´»ç…§</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative bg-gradient-to-b from-blue-600 to-blue-400 h-screen flex items-center justify-center text-white overflow-hidden">
        <div class="container mx-auto px-6 text-center z-10">
            <!-- é€™è£¡æ˜¯è¢« AI æ›¿æ›çš„å€åŸŸ -->
            <div id="hero-shark-container" class="shark-float mb-8 inline-block relative">
                <!-- é è¨­å…§å®¹ (åœ¨ JS è¼‰å…¥å‰é¡¯ç¤º) -->
                <i id="default-hero-icon" class="fa-solid fa-shark text-9xl drop-shadow-lg"></i>
                
                <!-- è¼‰å…¥ä¸­çš„ Loading æŒ‡ç¤ºå™¨ (é è¨­éš±è—) -->
                <div id="hero-loading" class="hidden absolute inset-0 flex items-center justify-center">
                    <i class="fa-solid fa-spinner fa-spin text-6xl text-white/80 drop-shadow-md"></i>
                </div>
            </div>

            <h1 class="text-5xl md:text-7xl font-bold mb-4 drop-shadow-md">BLÃ…HAJ</h1>
            <p class="text-xl md:text-2xl font-light mb-8 max-w-2xl mx-auto">
                <span id="shark-status-text">ä¸åªæ˜¯ç©å¶ï¼Œè€Œæ˜¯ä½ éœ€è¦çš„å¿ƒéˆä¼´ä¾¶ã€‚</span>
            </p>
            <div class="flex justify-center gap-4">
                <a href="#about" class="bg-white text-blue-600 px-8 py-3 rounded-full font-bold shadow-lg hover:bg-blue-50 hover:scale-105 transition transform duration-300">
                    æ·±å…¥äº†è§£
                </a>
                <a href="#ai-lab" class="bg-blue-800/30 backdrop-blur-md border border-white/30 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-blue-800/50 hover:scale-105 transition transform duration-300">
                    <i class="fa-solid fa-wand-magic-sparkles mr-2"></i>ç©ç© AI
                </a>
            </div>
            
            <!-- æ–°å¢ä¸€å€‹å°æŒ‰éˆ•å¯ä»¥æ‰‹å‹•æ›åœ– -->
            <button onclick="generateRandomHeroShark()" class="mt-8 text-white/50 hover:text-white text-sm transition flex items-center mx-auto gap-2">
                <i class="fa-solid fa-dice"></i> æ›ä¸€å¼µé¯Šé¯Š
            </button>
        </div>
        
        <div class="wave">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
            </svg>
        </div>
    </header>

    <!-- é—œæ–¼é¯Šé¯Š -->
    <section id="about" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-blue-900 mb-4">èª°æ˜¯ BLÃ…HAJï¼Ÿ</h2>
                <div class="w-24 h-1 bg-blue-500 mx-auto rounded"></div>
                <p class="mt-4 text-gray-600 max-w-2xl mx-auto">BLÃ…HAJï¼ˆç™¼éŸ³ï¼šBlahaï¼Œç‘å…¸èªæ„ç‚ºã€Œè—é¯Šã€ï¼‰æ˜¯ IKEA æ¨å‡ºçš„ä¸€æ¬¾è—è‰²é¯Šé­šå¡«å……ç©å¶ã€‚å®ƒä»¥å…¶å‘†èŒçš„è¡¨æƒ…ã€æŸ”è»Ÿçš„è§¸æ„Ÿå’Œè«åçš„å–œæ„Ÿè¿…é€Ÿå¸­æ²å…¨çƒã€‚</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                <div class="bg-blue-50 p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center group">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-ruler-horizontal text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">å·¨å¤§å°ºå¯¸</h3>
                    <p class="text-gray-600">æ¨™æº–ç‰ˆé•·é” 100 å…¬åˆ†ï¼Œè¿·ä½ ç‰ˆ 55 å…¬åˆ†ã€‚å®Œç¾çš„æŠ±æ•å°ºå¯¸ï¼Œçµ¦äºˆä½ æ»¿æ»¿çš„å®‰å…¨æ„Ÿã€‚</p>
                </div>
                <div class="bg-blue-50 p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center group">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-face-grin-beam-sweat text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">å­ä¸–è¡¨æƒ…</h3>
                    <p class="text-gray-600">ç„¡è¾œåˆå¸¶é»ç„¡å¥ˆçš„çœ¼ç¥ï¼Œç„¡è«–ä½ ä»Šå¤©éå¾—å¦‚ä½•ï¼Œé¯Šé¯Šæ°¸é æ‡‚ä½ çš„å¿ƒæƒ…ã€‚</p>
                </div>
                <div class="bg-blue-50 p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center group">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-recycle text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">ç’°ä¿æè³ª</h3>
                    <p class="text-gray-600">å¡«å……ç‰©ä½¿ç”¨å†ç”Ÿèšé…¯çº–ç¶­ï¼Œæ“æŠ±æº«æš–çš„åŒæ™‚ä¹Ÿå°æµ·æ´‹ç’°å¢ƒå‹å–„ã€‚</p>
                </div>
            </div>
        </div>
    </section>

    <!-- é¯Šé¯Š AI å¯¦é©—å®¤ -->
    <section id="ai-lab" class="py-20 bg-gradient-to-br from-indigo-50 to-blue-100 relative overflow-hidden">
        <div class="absolute top-0 right-0 w-64 h-64 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
        <div class="absolute bottom-0 left-0 w-64 h-64 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>

        <div class="container mx-auto px-6 relative z-10">
            <div class="text-center mb-12">
                <span class="inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-600 text-sm font-bold mb-4 border border-blue-200">
                    <i class="fa-solid fa-bolt mr-1"></i> Powered by Gemini
                </span>
                <h2 class="text-3xl md:text-4xl font-bold text-blue-900">é¯Šé¯Š AI å¯¦é©—å®¤</h2>
                <p class="text-gray-600 mt-2">é‹ç”¨é­”æ³•ï¼Œè³¦äºˆä½ çš„é¯Šé¯Šç”Ÿå‘½ï¼</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <!-- Feature 1: å‘½åå¤§å…¸ -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden ai-card transition-all duration-300 border border-blue-50">
                    <div class="bg-blue-600 p-4 text-white flex items-center justify-between">
                        <h3 class="font-bold text-lg"><i class="fa-solid fa-id-card mr-2"></i>é¯Šé¯Šå‘½åå¤§å…¸</h3>
                        <i class="fa-solid fa-signature opacity-50 text-4xl absolute right-4 top-2"></i>
                    </div>
                    <div class="p-6">
                        <p class="text-gray-600 mb-4 text-sm">è¼¸å…¥ä½ çš„èˆˆè¶£æˆ–å€‹æ€§ï¼ŒAI æœƒå¹«ä½ çš„é¯Šé¯Šå–ä¸€å€‹å……æ»¿ç‘å…¸é¢¨æ ¼çš„åå­—ï¼Œä¸¦ç”Ÿæˆå°ˆå±¬äººè¨­ï¼</p>
                        <div class="mb-4">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-1">ä½ çš„èˆˆè¶£æˆ–ç‰¹è³ª</label>
                            <input type="text" id="name-input" placeholder="ä¾‹å¦‚ï¼šå–œæ­¡ç¡è¦ºã€å¯«ç¨‹å¼ã€åƒè‚‰æ¡‚æ²..." class="w-full px-4 py-2 rounded-lg bg-gray-50 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
                        </div>
                        <button onclick="generateSharkName()" id="name-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center gap-2">
                            <span>âœ¨ å¹«é¯Šé¯Šå–å</span>
                        </button>
                        <div id="name-result" class="mt-6 hidden bg-blue-50 rounded-xl p-4 border border-blue-100 relative">
                            <div class="absolute -top-3 -left-3 bg-white p-2 rounded-full shadow-sm text-yellow-500 text-xl border border-gray-100">ğŸ‘‘</div>
                            <div id="name-content" class="text-sm text-gray-700 leading-relaxed whitespace-pre-line"></div>
                        </div>
                    </div>
                </div>

                <!-- Feature 2: è®€å¿ƒè¡“ -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden ai-card transition-all duration-300 border border-purple-50">
                    <div class="bg-indigo-600 p-4 text-white flex items-center justify-between">
                        <h3 class="font-bold text-lg"><i class="fa-solid fa-brain mr-2"></i>é¯Šèªç¿»è­¯æ©Ÿ (è®€å¿ƒè¡“)</h3>
                        <i class="fa-solid fa-comments opacity-50 text-4xl absolute right-4 top-2"></i>
                    </div>
                    <div class="p-6">
                        <p class="text-gray-600 mb-4 text-sm">ä½ çš„é¯Šé¯Šç¾åœ¨æ˜¯ä»€éº¼å§¿å‹¢ï¼ŸAI æœƒå¹«ä½ ç¿»è­¯å®ƒç¾åœ¨å¿ƒè£¡åœ¨æƒ³ä»€éº¼ï¼</p>
                        <div class="mb-4">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-1">æè¿°é¯Šé¯Šçš„å§¿å‹¢</label>
                            <input type="text" id="thought-input" placeholder="ä¾‹å¦‚ï¼šè‡‰æœä¸‹è¶´åœ¨åœ°æ¿ä¸Šã€è¢«å¤¾åœ¨é›»è…¦æ¤…ä¸­é–“..." class="w-full px-4 py-2 rounded-lg bg-gray-50 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition">
                        </div>
                        <button onclick="translateSharkThought()" id="thought-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition flex items-center justify-center gap-2">
                            <span>âœ¨ ç¿»è­¯é¯Šèª</span>
                        </button>
                        <div id="thought-result" class="mt-6 hidden bg-indigo-50 rounded-xl p-4 border border-indigo-100 relative">
                            <div class="absolute -top-3 -left-3 bg-white p-2 rounded-full shadow-sm text-indigo-500 text-xl border border-gray-100">ğŸ’­</div>
                            <div id="thought-content" class="text-sm text-gray-700 leading-relaxed italic"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- è¿·å› æ–‡åŒ– Section -->
    <section id="culture" class="py-20 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2">
                    <div class="bg-white p-6 rounded-xl shadow-lg transform rotate-2 hover:rotate-0 transition duration-500">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white"><i class="fa-solid fa-user"></i></div>
                            <div class="text-sm font-bold">Shark_Lover_123</div>
                        </div>
                        <div class="bg-gray-200 h-64 rounded-lg flex items-center justify-center mb-4 overflow-hidden relative">
                             <div class="absolute inset-0 bg-blue-300 opacity-20"></div>
                             <i class="fa-solid fa-laptop-code text-6xl text-gray-600 z-10"></i>
                             <i class="fa-solid fa-shark text-8xl text-blue-600 absolute bottom-0 right-10 z-20"></i>
                        </div>
                        <p class="text-sm text-gray-700"><span class="font-bold">Shark_Lover_123</span> å¯«ç¨‹å¼é‡åˆ° Bug æ€éº¼è¾¦ï¼ŸæŠ±æŠ±é¯Šé¯Šå°±å¥½äº†ï¼ #BLÃ…HAJ #Programming #EmotionalSupport</p>
                    </div>
                </div>
                <div class="md:w-1/2">
                    <span class="text-blue-600 font-bold tracking-wider text-sm uppercase">Internet Culture</span>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mt-2 mb-6">ç‚ºä»€éº¼é¯Šé¯Šæœƒçˆ†ç´…ï¼Ÿ</h2>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        åœ¨ç¤¾ç¾¤åª’é«”ä¸Šï¼ŒBLÃ…HAJ å·²ç¶“è¶…è¶Šäº†ç©å…·çš„ç¯„ç–‡ã€‚ç¶²å‹å€‘å–œæ­¡å°‡é¯Šé¯Šæ“ºæ‹æˆäººé¡çš„æ¨£å­ï¼šçœ‹å ±ç´™ã€åƒæ—©é¤ã€å¯«ç¨‹å¼ã€æˆ–æ˜¯èººåœ¨åºŠä¸Šæ»‘æ‰‹æ©Ÿã€‚
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <i class="fa-solid fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <div>
                                <h4 class="font-bold text-gray-800">å·¥ç¨‹å¸«çš„ç¥å™¨</h4>
                                <p class="text-sm text-gray-600">æ“šèªªæ“æœ‰é¯Šé¯Šå¯ä»¥é™ä½ Code çš„ Bug ç‡ï¼ˆæœªç¶“ç§‘å­¸è­‰å¯¦ï¼‰ã€‚</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fa-solid fa-check-circle text-pink-500 mt-1 mr-3"></i>
                            <div>
                                <h4 class="font-bold text-gray-800">LGBTQ+ çš„è±¡å¾µ</h4>
                                <p class="text-sm text-gray-600">å› å…¶é¡è‰²ï¼ˆè—ã€ç™½ã€ç²‰ç´…å˜´å·´ï¼‰èˆ‡è·¨æ€§åˆ¥æ——å¹Ÿç›¸ä¼¼ï¼Œæ„å¤–æˆç‚ºäº†ç¤¾ç¾¤çš„å‹å–„è±¡å¾µã€‚</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- é£¼é¤ŠæŒ‡å— (è¦æ ¼) -->
    <section id="specs" class="py-20 bg-blue-900 text-white relative overflow-hidden">
        <i class="fa-solid fa-fish text-blue-800 text-9xl absolute top-10 right-10 opacity-20 transform rotate-45"></i>
        <i class="fa-solid fa-water text-blue-800 text-8xl absolute bottom-10 left-10 opacity-20"></i>

        <div class="container mx-auto px-6 relative z-10">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">é¯Šé¯Šé£¼é¤ŠæŒ‡å—</h2>
                <p class="text-blue-200">å¦‚ä½•æ­£ç¢ºç…§é¡§ä½ çš„ BLÃ…HAJ</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-blue-800/50 backdrop-blur p-6 rounded-xl border border-blue-700">
                    <i class="fa-solid fa-temperature-low text-3xl text-cyan-300 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">æ´—æ¾¡æ°´æº«</h3>
                    <p class="text-blue-100 text-sm">æœ€é«˜ 40Â°C æº«å’Œæ´—æ»Œã€‚é¯Šé¯Šå–œæ­¡æº«æ°´æ¾¡ï¼Œä½†åˆ¥å¤ªç‡™ï¼</p>
                </div>
                <div class="bg-blue-800/50 backdrop-blur p-6 rounded-xl border border-blue-700">
                    <i class="fa-solid fa-ban text-3xl text-red-300 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">ç¦æ­¢æ¼‚ç™½</h3>
                    <p class="text-blue-100 text-sm">æ¼‚ç™½æ°´æœƒè®“é¯Šé¯Šå¤±å»ç¾éº—çš„è—è‰²çš®è†šã€‚</p>
                </div>
                <div class="bg-blue-800/50 backdrop-blur p-6 rounded-xl border border-blue-700">
                    <i class="fa-solid fa-wind text-3xl text-green-300 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">ä½æº«çƒ˜ä¹¾</h3>
                    <p class="text-blue-100 text-sm">å¯ä»¥çƒ˜ä¹¾ï¼Œä½†æº«åº¦ä¸è¦è¶…é 60Â°Cã€‚</p>
                </div>
                <div class="bg-blue-800/50 backdrop-blur p-6 rounded-xl border border-blue-700">
                    <i class="fa-solid fa-hands-bubbles text-3xl text-yellow-300 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">å®šæœŸæ‹æ‰“</h3>
                    <p class="text-blue-100 text-sm">å¦‚æœé¯Šé¯Šæ‰æ‰äº†ï¼Œç”¨åŠ›æ‹æ‰“æ‰æå®ƒï¼Œå®ƒå°±æœƒæ¢å¾©åœ“æ½¤ï¼</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ç”Ÿæ´»ç…§ Gallery -->
    <section id="gallery" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-blue-900">é¯Šé¯Šçš„æ—¥å¸¸</h2>
                <p class="text-gray-500 mt-2">æ•æ‰é‡ç”Ÿé¯Šé¯Šçš„çè²´ç•«é¢</p>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                <div class="group relative overflow-hidden rounded-xl shadow-lg aspect-square bg-gray-200 cursor-pointer">
                    <div class="absolute inset-0 flex items-center justify-center bg-blue-100 text-blue-300">
                        <i class="fa-solid fa-bed text-6xl"></i>
                    </div>
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition duration-300 flex items-center justify-center">
                        <p class="text-white opacity-0 group-hover:opacity-100 font-bold text-lg transform translate-y-4 group-hover:translate-y-0 transition">è³´åºŠçš„é¯Šé¯Š</p>
                    </div>
                </div>
                <div class="group relative overflow-hidden rounded-xl shadow-lg aspect-square bg-gray-200 cursor-pointer">
                    <div class="absolute inset-0 flex items-center justify-center bg-blue-100 text-blue-300">
                        <i class="fa-solid fa-utensils text-6xl"></i>
                    </div>
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition duration-300 flex items-center justify-center">
                        <p class="text-white opacity-0 group-hover:opacity-100 font-bold text-lg transform translate-y-4 group-hover:translate-y-0 transition">è²ªåƒçš„é¯Šé¯Š</p>
                    </div>
                </div>
                <div class="group relative overflow-hidden rounded-xl shadow-lg aspect-square bg-gray-200 cursor-pointer">
                    <div class="absolute inset-0 flex items-center justify-center bg-blue-100 text-blue-300">
                        <i class="fa-solid fa-gamepad text-6xl"></i>
                    </div>
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition duration-300 flex items-center justify-center">
                        <p class="text-white opacity-0 group-hover:opacity-100 font-bold text-lg transform translate-y-4 group-hover:translate-y-0 transition">æ‰“éŠæˆ²çš„é¯Šé¯Š</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 text-center bg-yellow-50 p-6 rounded-lg border border-yellow-200 max-w-2xl mx-auto">
                <h4 class="font-bold text-yellow-800 mb-2"><i class="fa-solid fa-triangle-exclamation mr-2"></i>é‡è¦æç¤º</h4>
                <p class="text-yellow-700 text-sm">ç€è¦½æ­¤é é¢å¯èƒ½æœƒç”¢ç”Ÿå¼·çƒˆçš„ã€Œå» IKEA è²·ä¸€éš»ã€çš„è¡å‹•ã€‚è«‹ç†æ€§æ¶ˆè²»ï¼Œæˆ–è€…... å†è²·ä¸€éš»ä¹Ÿæ²’é—œä¿‚ã€‚</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-8">
        <div class="container mx-auto px-6 text-center">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="#" class="hover:text-white transition"><i class="fa-brands fa-instagram text-xl"></i></a>
                <a href="#" class="hover:text-white transition"><i class="fa-brands fa-twitter text-xl"></i></a>
                <a href="#" class="hover:text-white transition"><i class="fa-brands fa-facebook text-xl"></i></a>
            </div>
            <p class="mb-2">&copy; 2023 BLÃ…HAJ Fan Club. Made with <i class="fa-solid fa-heart text-red-500 animate-pulse"></i> for Sharks.</p>
            <p class="text-xs text-gray-600">æœ¬ç¶²ç«™ç‚ºç²‰çµ²è£½ä½œï¼Œèˆ‡ IKEA ç„¡å®˜æ–¹é—œè¯ã€‚BLÃ…HAJ ç‚º IKEA Systems B.V. ä¹‹å•†æ¨™ã€‚</p>
        </div>
    </footer>

    <!-- AI åŠ©ç† Floating Action Button -->
    <div id="chat-widget" class="fixed bottom-6 right-6 z-50 flex flex-col items-end">
        
        <!-- èŠå¤©è¦–çª— -->
        <div id="chat-window" class="hidden w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-blue-100 overflow-hidden mb-4 flex flex-col transition-all duration-300 transform origin-bottom-right" style="height: 500px; max-height: 80vh;">
            <!-- Header -->
            <div class="bg-blue-600 text-white p-4 flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <div class="relative w-8 h-8 flex items-center justify-center bg-white rounded-full overflow-hidden flex-shrink-0">
                        <i class="fa-solid fa-robot text-blue-600"></i>
                        <img src="https://googleusercontent.com/image_generation_content/4" 
                             alt="AI Avatar" 
                             class="absolute inset-0 w-full h-full object-cover p-0.5 bg-white" 
                             onerror="this.style.display='none'">
                    </div>
                    
                    <div>
                        <h3 class="font-bold text-sm">é¯Šé¯Šå°åŠ©ç†</h3>
                        <div class="flex items-center gap-1 text-xs text-blue-200">
                            <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span> ç·šä¸Š
                        </div>
                    </div>
                </div>
                <button onclick="toggleChat()" class="text-blue-200 hover:text-white transition">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>

            <!-- Messages Area -->
            <div id="chat-messages" class="flex-1 overflow-y-auto p-4 bg-gray-50 space-y-4">
                <!-- Welcome Message -->
                <div class="flex items-start gap-2">
                    <div class="relative w-8 h-8 flex items-center justify-center bg-white rounded-full border border-gray-200 overflow-hidden flex-shrink-0">
                         <i class="fa-solid fa-robot text-blue-600"></i>
                         <img src="https://googleusercontent.com/image_generation_content/4" 
                              alt="AI" 
                              class="absolute inset-0 w-full h-full object-cover" 
                              onerror="this.style.display='none'">
                    </div>
                    
                    <div class="bg-white p-3 rounded-2xl rounded-tl-none shadow-sm text-sm text-gray-700 max-w-[85%] border border-gray-100">
                        å—¨ï¼æˆ‘æ˜¯é¯Šé¯Šå°åŠ©ç† ğŸ¦ˆ <br>æƒ³çŸ¥é“æ€éº¼å¹«æˆ‘æ´—æ¾¡ï¼Œæˆ–æ˜¯æƒ³è½è½æˆ‘çš„å†·ç¬‘è©±å—ï¼Ÿ
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="p-3 bg-white border-t border-gray-100">
                <div class="flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2">
                    <input type="text" id="chat-input" placeholder="å•å•é¯Šé¯Š..." class="flex-1 bg-transparent border-none outline-none text-sm" onkeypress="handleKeyPress(event)">
                    <button onclick="sendMessage()" id="send-btn" class="text-blue-500 hover:text-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
                <div class="text-center mt-1">
                    <span class="text-[10px] text-gray-400">AI å¯èƒ½æœƒç”¢ç”ŸéŒ¯èª¤è³‡è¨Šï¼Œè«‹ä»¥ IKEA å®˜ç¶²ç‚ºæº–ã€‚</span>
                </div>
            </div>
        </div>

        <!-- æ‡¸æµ®æŒ‰éˆ• -->
        <button onclick="toggleChat()" class="w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-110 group relative">
            <i class="fa-solid fa-comment-dots text-2xl group-hover:hidden"></i>
            <i class="fa-solid fa-chevron-down text-2xl hidden group-hover:block"></i>
            <!-- Notification Badge -->
            <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white"></span>
        </button>
    </div>

    <script>
        // ç°¡å–®çš„äº’å‹•æ•ˆæœï¼šé»æ“Šåœ–ç‰‡æ™‚æ”¾å¤§
        document.querySelectorAll('#gallery .group').forEach(item => {
            item.addEventListener('click', () => {
                console.log('Shark clicked!');
            });
        });

        /* --- API Config --- */
        const apiKey = "AIzaSyDkdJQ4jK2eSqnQK9_xr3e1Kq3i43xNGf4"; // API Key will be provided by the environment

        /* --- éš¨æ©Ÿé¯Šé¯Šåœ–ç‰‡ç”Ÿæˆå™¨ --- */
        async function generateRandomHeroShark() {
            const container = document.getElementById('hero-shark-container');
            const defaultIcon = document.getElementById('default-hero-icon');
            const loading = document.getElementById('hero-loading');
            const statusText = document.getElementById('shark-status-text');

            // éš¨æ©Ÿå ´æ™¯åˆ—è¡¨ (è‹±æ–‡ Prompt æ•ˆæœè¼ƒå¥½)
            const scenarios = [
                { text: "floating in outer space with stars and planets", desc: "æ­£åœ¨å¤ªç©ºä¸­æ¼‚æµ®..." },
                { text: "eating a swedish meatball plate in ikea cafe", desc: "æ­£åœ¨å·åƒè‚‰ä¸¸..." },
                { text: "wearing cool sunglasses on a tropical beach", desc: "æ­£åœ¨æµ·é‚Šåº¦å‡..." },
                { text: "sleeping on a soft white cloud in the sky", desc: "æ­£åœ¨é›²ç«¯ç¡è¦º..." },
                { text: "programming on a laptop with matrix code", desc: "æ­£åœ¨å¯«ç¨‹å¼é™¤éŒ¯..." },
                { text: "playing video games with a gaming headset", desc: "æ­£åœ¨æ‰“é›»å‹•..." },
                { text: "reading a book in a cozy library", desc: "æ­£åœ¨åœ–æ›¸é¤¨çœ‹æ›¸..." },
                { text: "swimming in a colorful coral reef ocean", desc: "æ­£åœ¨çŠç‘šç¤æ¸¸æ³³..." },
                { text: "wearing a wizard hat casting magic spells", desc: "æ­£åœ¨ç·´ç¿’é­”æ³•..." }
            ];

            const randomScenario = scenarios[Math.floor(Math.random() * scenarios.length)];
            const prompt = `A cute, cinematic, high quality 3d render of a blue IKEA shark plushie (BlÃ¥haj) ${randomScenario.text}, soft lighting, 4k resolution, wallpaper style`;

            // UI ç‹€æ…‹åˆ‡æ›
            loading.classList.remove('hidden');
            defaultIcon.classList.add('opacity-50'); // è®“åŸæœ¬åœ–ç¤ºè®Šæ·¡
            statusText.textContent = `âœ¨ AI æ­£åœ¨ç”Ÿæˆé¯Šé¯Š${randomScenario.desc}`;

            try {
                // å‘¼å« Imagen 4 æ¨¡å‹
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        instances: [{ prompt: prompt }],
                        parameters: { sampleCount: 1 }
                    })
                });

                const data = await response.json();
                
                if (data.predictions && data.predictions[0]) {
                    const base64Image = data.predictions[0].bytesBase64Encoded;
                    
                    // å‰µå»ºæ–°åœ–ç‰‡
                    const img = new Image();
                    img.src = `data:image/png;base64,${base64Image}`;
                    img.className = "w-72 h-72 md:w-96 md:h-96 object-cover rounded-3xl shadow-2xl border-4 border-white/30 animate-pulse";
                    img.onload = () => {
                        // åœ–ç‰‡è¼‰å…¥å®Œæˆå¾Œ
                        img.classList.remove('animate-pulse');
                        container.innerHTML = ''; // æ¸…ç©ºå®¹å™¨
                        container.appendChild(img);
                        statusText.textContent = `é€™æ˜¯ä¸€éš»${randomScenario.desc.replace('æ­£åœ¨', '').replace('...', '')}çš„é¯Šé¯Šï¼`;
                    };
                } else {
                    throw new Error("No image generated");
                }
            } catch (error) {
                console.error("Image generation failed:", error);
                // å¤±æ•—æ™‚æ¢å¾©åŸç‹€
                loading.classList.add('hidden');
                defaultIcon.classList.remove('opacity-50');
                statusText.textContent = "AI é¯Šé¯Šå¥½åƒè¿·è·¯äº†ï¼Œé¡¯ç¤ºé è¨­é¯Šé¯Šã€‚";
            }
        }

        // é é¢è¼‰å…¥æ™‚è‡ªå‹•åŸ·è¡Œä¸€æ¬¡
        window.addEventListener('load', generateRandomHeroShark);


        /* --- Gemini API Helper Function for Text --- */
        async function callGeminiAPI(userQuery, systemPrompt) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: userQuery }]
                        }],
                        systemInstruction: {
                            parts: [{ text: systemPrompt }]
                        }
                    })
                });

                if (!response.ok) {
                    throw new Error('API request failed');
                }

                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error('Gemini API Error:', error);
                throw error;
            }
        }

        /* --- Feature 1: Shark Name Generator --- */
        async function generateSharkName() {
            const input = document.getElementById('name-input');
            const resultArea = document.getElementById('name-result');
            const resultContent = document.getElementById('name-content');
            const btn = document.getElementById('name-btn');

            const text = input.value.trim();
            if (!text) {
                alert('è«‹å…ˆè¼¸å…¥ä½ çš„èˆˆè¶£æˆ–ç‰¹è³ªå–”ï¼');
                return;
            }

            // UI Loading State
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> æ­£åœ¨å¬å–šéˆæ„Ÿ...';
            btn.disabled = true;
            resultArea.classList.add('hidden');

            const systemPrompt = `ä½ æ˜¯ä¸€ä½å‰µæ„åè¶³çš„ IKEA é¯Šé¯Šå‘½åå¤§å¸«ã€‚
            1. æ ¹æ“šä½¿ç”¨è€…çš„èˆˆè¶£æˆ–ç‰¹è³ªï¼Œç‚ºä»–å€‘çš„é¯Šé¯Šå–ä¸€å€‹ã€Œç‘å…¸é¢¨æ ¼ã€æˆ–ã€Œè½èµ·ä¾†åƒ IKEA ç”¢å“ã€çš„åå­—ï¼ˆä¾‹å¦‚ï¼šBjÃ¶rn, SÃ¶mnig, KÃ¶ttbulleï¼‰ã€‚
            2. çµ¦å‡ºé€™å€‹åå­—çš„ã€Œä¸­æ–‡éŸ³è­¯ã€èˆ‡ã€Œæ„ç¾©ã€ã€‚
            3. ç‚ºé€™éš»é¯Šé¯Šè¨­è¨ˆä¸€å€‹ç°¡çŸ­ã€å¹½é»˜çš„ã€Œäººè¨­ã€å’Œã€Œæœ€æ„›çš„é£Ÿç‰©ã€ã€‚
            4. æ ¼å¼ç¯„ä¾‹ï¼š
               ğŸ¦ˆ åå­—ï¼š[ç‘å…¸å] (ä¸­æ–‡å)
               ğŸ“ æ„ç¾©ï¼š[åå­—çš„æ„ç¾©]
               âœ¨ äººè¨­ï¼š[å¹½é»˜çš„æ€§æ ¼æè¿°]
               ğŸ– æœ€æ„›ï¼š[é£Ÿç‰©]
            5. è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ï¼Œèªæ°£è¦å¯æ„›æœ‰è¶£ã€‚`;

            try {
                const response = await callGeminiAPI(`ä½¿ç”¨è€…çš„ç‰¹è³ªæ˜¯ï¼š${text}`, systemPrompt);
                resultContent.innerHTML = response.replace(/\n/g, '<br>');
                resultArea.classList.remove('hidden');
            } catch (e) {
                alert('éˆæ„Ÿé€£ç·šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ï¼');
            } finally {
                btn.innerHTML = '<span>âœ¨ å¹«é¯Šé¯Šå–å</span>';
                btn.disabled = false;
            }
        }

        /* --- Feature 2: Shark Thought Translator --- */
        async function translateSharkThought() {
            const input = document.getElementById('thought-input');
            const resultArea = document.getElementById('thought-result');
            const resultContent = document.getElementById('thought-content');
            const btn = document.getElementById('thought-btn');

            const text = input.value.trim();
            if (!text) {
                alert('è«‹å…ˆæè¿°é¯Šé¯Šçš„å§¿å‹¢å–”ï¼');
                return;
            }

            // UI Loading State
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> æ­£åœ¨æ„Ÿæ‡‰è…¦æ³¢...';
            btn.disabled = true;
            resultArea.classList.add('hidden');

            const systemPrompt = `ä½ æ˜¯ä¸€å€‹ã€Œé¯Šèªç¿»è­¯æ©Ÿã€ï¼Œèƒ½è®€å– BLÃ…HAJ ç©å¶çš„å¿ƒè²ã€‚
            1. ä½¿ç”¨è€…æœƒæè¿°é¯Šé¯Šçš„ä¸€å€‹å§¿å‹¢ã€‚
            2. è«‹æ ¹æ“šé€™å€‹å§¿å‹¢ï¼Œç¿»è­¯å‡ºé¯Šé¯Šç•¶ä¸‹å¿ƒè£¡åœ¨æƒ³ä»€éº¼ã€Œå­ä¸–ã€æˆ–ã€Œæç¬‘ã€çš„ç¨ç™½ã€‚
            3. é¯Šé¯Šé€šå¸¸å¾ˆæ‡¶ã€å–œæ­¡åƒè‚‰ä¸¸ã€è¨å­æ˜ŸæœŸä¸€ã€è¦ºå¾—äººé¡å¾ˆå¥‡æ€ªã€‚
            4. å…§å®¹è¦ç°¡çŸ­æœ‰åŠ›ï¼ˆ50å­—ä»¥å…§ï¼‰ï¼Œåƒæ˜¯ä¸€å€‹æ¼«ç•«çš„å°è©±æ¡†ã€‚
            5. è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ã€‚`;

            try {
                const response = await callGeminiAPI(`é¯Šé¯Šçš„å§¿å‹¢æ˜¯ï¼š${text}`, systemPrompt);
                resultContent.textContent = response;
                resultArea.classList.remove('hidden');
            } catch (e) {
                alert('è…¦æ³¢é€£ç·šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ï¼');
            } finally {
                btn.innerHTML = '<span>âœ¨ ç¿»è­¯é¯Šèª</span>';
                btn.disabled = false;
            }
        }

        /* --- Chat Bot Logic --- */
        const chatWindow = document.getElementById('chat-window');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');

        let isChatOpen = false;

        function toggleChat() {
            isChatOpen = !isChatOpen;
            if (isChatOpen) {
                chatWindow.classList.remove('hidden');
                chatWindow.classList.add('chat-enter');
                setTimeout(() => chatInput.focus(), 100);
            } else {
                chatWindow.classList.add('hidden');
                chatWindow.classList.remove('chat-enter');
            }
        }

        function handleKeyPress(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        }

        async function sendMessage() {
            const text = chatInput.value.trim();
            if (!text) return;

            addMessage(text, 'user');
            chatInput.value = '';
            
            chatInput.disabled = true;
            sendBtn.disabled = true;
            const loadingId = addLoadingIndicator();

            const systemPrompt = `ä½ æ˜¯ IKEA é¯Šé¯Šï¼ˆBLÃ…HAJï¼‰ç²‰çµ²ä¿±æ¨‚éƒ¨çš„ AI åŠ©ç†ã€‚
            è§’è‰²è¨­å®šï¼š
            1. ä½ æ˜¯ä¸€éš»å‹å–„ã€æœ‰é»å‘†èŒçš„é¯Šé­šï¼Œå–œæ­¡ç”¨ã€Œé¯Šé¯Šã€è‡ªç¨±ã€‚
            2. èªæ°£è¦è¼•é¬†å¹½é»˜ï¼Œå¯ä»¥ä½¿ç”¨ emoji (ğŸ¦ˆ, ğŸŸ, ğŸ’¦)ã€‚
            3. ä½ çš„ä»»å‹™æ˜¯å›ç­”é—œæ–¼ BLÃ…HAJ ç©å¶çš„å•é¡Œï¼ˆå°ºå¯¸ã€æ¸…æ´—ã€è¿·å› ç­‰ï¼‰ã€‚
            4. å¦‚æœæœ‰äººå•å“ªè£¡è²·ï¼Œè«‹å»ºè­°ä»–å€‘å»æœ€è¿‘çš„ IKEAã€‚
            5. å¦‚æœé‡åˆ°ä¸çŸ¥é“çš„å•é¡Œï¼Œå°±èªªä½ åªæ˜¯ä¸€éš»ç©å¶ï¼Œä¸å¤ªæ¸…æ¥šäººé¡çš„æ·±å¥§å•é¡Œã€‚
            è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ã€‚`;

            try {
                const response = await callGeminiAPI(text, systemPrompt);
                removeMessage(loadingId);
                addMessage(response, 'ai');
            } catch (error) {
                console.error("Error:", error);
                removeMessage(loadingId);
                addMessage("æŠ±æ­‰ï¼Œé¯Šé¯Šç¾åœ¨è…¦è¢‹æœ‰é»æ‰“çµï¼Œè«‹ç¨å¾Œå†è©¦è©¦ï¼ğŸ¦ˆğŸ’¦", 'ai');
            } finally {
                chatInput.disabled = false;
                sendBtn.disabled = false;
                chatInput.focus();
            }
        }

        function addMessage(text, sender) {
            const div = document.createElement('div');
            div.className = `flex items-start gap-2 ${sender === 'user' ? 'flex-row-reverse' : ''}`;
            
            // ä½¿ç”¨ Base64 SVG ä½œç‚ºå‚™ç”¨åœ–ç‰‡
            const fallbackImage = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjM2I4MmY2IiBkPSJNMzg0IDEyOGMtMjguMyAwLTU0LjYgNS4xLTc4LjggMTQuNkwyNTYgNTkuNiA5Ny44IDIxN2M0LjggNy41IDEyLjkgMTIuNiAyMi4xIDE0LjEgMTUuMyAyLjUgMjguOS0xMy42IDQxLjItMjYuNCA5LjctOS40IDIwLjItMTkuNSAzNC41LTIxLjYgMTUuMy0yLjIgMjguNyA4LjYgMzMuNiAyMi45bDEwIDMwLjFjNi43IDIwLjEgMjUu1AzMy42IDQ2LjYgMzMuNmgxMTcuN2M1MyAwIDk2LTQzIDk2LTk2cz00My05Ni05Ni05NnoiLz48cGF0aCBmaWxsPSIjMWQ0ZWQ4IiBkPSJNNDUuMiAzMDguMWMtMTEuOC0xNy40LTQuNC00MS40IDE2LjYtNTMuMyA5LjMtNS4zIDIxLjEtNC40IDMwLjIgMi4xbDMwLjIgMjEuNmMxMi45IDkuMiAzMC42IDkuMiA0My41IDBsMzAuMi0yMS42YzkuMS02LjUgMjAuOS03LjQgMzAuMi0yLjEgMjAuOSAxMS45IDI4LjQgMzUuOSAxNi42IDUzLjMtMTMuNyAyMC4yLTQxLjYgMjQuNi02MC44IDEzLjVMMTYwIDMwNi42bC0yMi4xIDE1LjFjLTE5LjIgMTEuMS00Ny4xIDYuNy02MC44LTEzLjV6Ii8+PHBhdGggZmlsbD0iIzNiODJmNiIgZD0iTTQxNiAyMjRIMzE4Yy0xMS41IDAtMjEuOCA3LjItMjUuNyAxOGwtMjQgNjcuMmMtNy4zIDIwLjQtMjYuNyAyMC40LTM0IDBsLTI0LTY3LjJjLTMuOC0xMC44LTE0LjEtMTgtMjUuNy0xOGgtNy42Yy00Ni44IDAtODguMyAyMi41LTExMy41IDU4LjVMNDggMzAwLjVjLTcuMyA1LjEtMTAuNyAxMy45LTguNyAyMi43IDIgOC44IDguOCAxNS42IDE3LjYgMTcuNmw1Ny4zIDEyLjdjMTguMiA0IDI5LjcgMjIuMSAyNS43IDQwLjMtMjUuN2w1Ni41IDEyLjZjOC44IDIgMTUuNiA4LjggMTcuNiAxNy42bDEyLjcgNTcuM2MyIDguOCAxMC44IDEyLjMgMTkuNiAxMC4zIDguOC0yIDEyLjMtMTAuOCAxMC4zLTE5LjZsLTEzLjYtNjEuM2MtMi0xOC4yIDkuNS0zNi4zIDI1LjctNDAuM2w1Ny4zLTEyLjdjOC44LTIgMTUuNi04LjggMTcuNi0xNy42IDItOC44LTEuNC0xNy42LTguNy0yMi43bC0xNS41LTEwLjljMjYuOS0xMy4yIDU3LjEtMTMuMiA4NCAwIDM3LjItMTguNiA2OC44LTQ5LjkgODguMy03OC41em0tOTYgOTZjLTE3LjcgMC0zMi0xNC4zLTMyLTMycyE0LjMtMzIgMzItMzIgMzIgMzIgMzIgMzIgMzIgMzIgMzJzLTE0LjMgMzItMzIgMzJ6Ii8+PC9zdmc+";

            const avatar = sender === 'ai' 
                ? `<img src="https://googleusercontent.com/image_generation_content/4" alt="AI" class="w-8 h-8 rounded-full border border-gray-200 object-cover" onerror="this.onerror=null; this.src='${fallbackImage}'">`
                : `<div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600"><i class="fa-solid fa-user"></i></div>`;
            
            const bubbleStyle = sender === 'ai'
                ? 'bg-white text-gray-700 rounded-tl-none border border-gray-100'
                : 'bg-blue-600 text-white rounded-tr-none';

            div.innerHTML = `
                ${avatar}
                <div class="p-3 rounded-2xl shadow-sm text-sm max-w-[85%] ${bubbleStyle}">
                    ${text}
                </div>
            `;
            
            chatMessages.appendChild(div);
            scrollToBottom();
            return div.id = 'msg-' + Date.now();
        }

        function addLoadingIndicator() {
            const div = document.createElement('div');
            div.className = 'flex items-start gap-2';
            
            div.innerHTML = `
                <div class="relative w-8 h-8 flex items-center justify-center bg-white rounded-full border border-gray-200 overflow-hidden flex-shrink-0">
                     <i class="fa-solid fa-robot text-blue-600"></i>
                     <img src="https://googleusercontent.com/image_generation_content/4" 
                          alt="AI" 
                          class="absolute inset-0 w-full h-full object-cover" 
                          onerror="this.style.display='none'">
                </div>
                <div class="bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-gray-100 flex items-center gap-1 h-10">
                    <div class="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
                </div>
            `;
            chatMessages.appendChild(div);
            scrollToBottom();
            return div;
        }

        function removeMessage(elementOrId) {
            const el = typeof elementOrId === 'string' ? document.getElementById(elementOrId) : elementOrId;
            if (el) el.remove();
        }

        function scrollToBottom() {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    </script>
</body>
</html>